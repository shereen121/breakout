<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Breakout Cafe - Home</title>
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>

<!-- User Account Display (Top Left) -->
<div id="user-account-display" style="
    position: fixed;
    top: 20px;
    left: 20px;
    background: rgba(255, 255, 255, 0.95);
    padding: 15px 20px;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(45, 95, 63, 0.2);
    z-index: 1000;
    display: none;
    min-width: 200px;
    border: 2px solid #2D5F3F;
">
    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
        <div style="
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #2D5F3F 0%, #1a4d2e 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2em;
        " id="user-initial">üë§</div>
        <div>
            <div style="font-weight: 700; color: #2D5F3F; font-size: 1.1em;" id="user-display-name">User</div>
            <div style="font-size: 0.85em; color: #666;" id="user-display-email">email@example.com</div>
        </div>
    </div>
    <div style="display: flex; justify-content: space-between; font-size: 0.9em; padding-top: 10px; border-top: 1px solid #E8F5E9;">
        <div>
            <div style="color: #666;">Points</div>
            <div style="font-weight: 700; color: #2D5F3F;" id="user-display-points">0</div>
        </div>
        <div>
            <div style="color: #666;">Wallet</div>
            <div style="font-weight: 700; color: #2D5F3F;" id="user-display-wallet">0 EGY</div>
        </div>
    </div>
    <button onclick="logout()" style="
        width: 100%;
        margin-top: 10px;
        padding: 8px;
        background: #E8F5E9;
        color: #2D5F3F;
        border: 1px solid #2D5F3F;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 600;
        font-size: 0.9em;
    ">Logout</button>
</div>

<!-- Header Section -->
<section class="nav text-center">
    <h3 class="span loader">
        <span class="m">B</span>
        <span class="m">R</span>
        <span class="m">E</span>
        <span class="m">A</span>
        <span class="m">K</span>
        <span class="m">O</span>
        <span class="m">U</span>
        <span class="m">T</span>
    </h3>

    <!-- Navigation Buttons -->
    <div class="nav-buttons">
        <button class="nav-btn active" onclick="scrollToSection('menu')">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            </svg>
            Home
        </button>
        <button class="nav-btn" onclick="scrollToSection('user-info')">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="16" x2="12" y2="12"></line>
                <line x1="12" y1="8" x2="12.01" y2="8"></line>
            </svg>
            Info
        </button>
    </div>
</section>

<!-- Slider Section -->
<div class="slider-container">
    <div class="slider">
        <!-- Slide 1: Welcome -->
        <div class="slide active">
            <div class="slide-content">
                <div class="slide-text">
                    <h1>Welcome to Breakout Cafe ‚òï</h1>
                    <p>Your perfect escape for premium coffee and refreshing drinks</p>
                    <p class="slide-description">
                        Since our establishment, Breakout Cafe has been dedicated to serving the finest beverages
                        crafted with passion and expertise. We believe every cup tells a story.
                    </p>
                </div>
                <div class="slide-image">
                    <img src="img/44.jpg" alt="Breakout Cafe">
                </div>
            </div>
        </div>

        <!-- Slide 2: Our Story -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-text">
                    <h1>Our Story üìñ</h1>
                    <p>A journey of passion and excellence</p>
                    <p class="slide-description">
                        Founded with a vision to create a unique coffee experience, Breakout Cafe combines
                        traditional brewing methods with modern innovation. We source the finest beans from
                        around the world and craft each drink with meticulous attention to detail.
                    </p>
                </div>
                <div class="slide-image">
                    <img src="img/peakpx.jpg" alt="Our Story">
                </div>
            </div>
        </div>

        <!-- Slide 3: Our Mission -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-text">
                    <h1>Our Mission üéØ</h1>
                    <p>Quality, Comfort, and Community</p>
                    <p class="slide-description">
                        At Breakout Cafe, we're committed to providing an exceptional experience. From our
                        carefully selected ingredients to our welcoming atmosphere, every detail is designed
                        to make your visit memorable. We're not just serving drinks ‚Äì we're building a community.
                    </p>
                </div>
                <div class="slide-image">
                    <img src="img/44.jpg" alt="Our Mission">
                </div>
            </div>
        </div>

        <!-- Slide 4: What We Offer -->
        <div class="slide">
            <div class="slide-content">
                <div class="slide-text">
                    <h1>What We Offer ‚ú®</h1>
                    <p>Premium beverages for every taste</p>
                    <p class="slide-description">
                        ‚Ä¢ Artisan Hot Drinks: Espresso, Cappuccino, Turkish Coffee & More<br>
                        ‚Ä¢ Refreshing Cold Drinks: Iced Coffee, Smoothies, Fresh Juices<br>
                        ‚Ä¢ Specialty Drinks: Matcha, Frappe, Milkshakes<br>
                        ‚Ä¢ All made with premium ingredients and expert craftsmanship
                    </p>
                </div>
                <div class="slide-image">
                    <img src="img/peakpx.jpg" alt="Our Offerings">
                </div>
            </div>
        </div>
    </div>

    <!-- Slider Navigation -->
    <button class="slider-btn prev" onclick="changeSlide(-1)">‚ùÆ</button>
    <button class="slider-btn next" onclick="changeSlide(1)">‚ùØ</button>

    <!-- Slider Dots -->
    <div class="slider-dots">
        <span class="dot active" onclick="currentSlide(0)"></span>
        <span class="dot" onclick="currentSlide(1)"></span>
        <span class="dot" onclick="currentSlide(2)"></span>
        <span class="dot" onclick="currentSlide(3)"></span>
    </div>

    <!-- Skip to Menu Button -->
    <button class="skip-btn" onclick="scrollToSection('menu')">Skip to Menu ‚Üì</button>
</div>

<!-- Menu Section -->
<div id="menu" class="container">
    <div class="menu-header">
        <h2>Our Menu</h2>
        <p class="subtitle">Choose your favorite drinks</p>
    </div>

    <div class="drinks-grid">
        <!-- Hot Drinks Card -->
        <div class="drink-card">
            <div class="card">
                <div class="card-image-wrapper">
                    <img class="card-img-top" src="img/44.jpg" alt="Hot Drinks">
                </div>
                <div class="card-body">
                    <h5 class="card-title">Hot Drinks</h5>
                    <p class="card-description">Espresso, Cappuccino, Turkish Coffee & More</p>
                    <a href="hot/index.html" class="btn btn-success">Explore Menu</a>
                </div>
            </div>
        </div>

        <!-- Cold Drinks Card -->
        <div class="drink-card">
            <div class="card">
                <div class="card-image-wrapper">
                    <img class="card-img-top" src="img/peakpx.jpg" alt="Cold Drinks">
                </div>
                <div class="card-body">
                    <h5 class="card-title">Cold Drinks</h5>
                    <p class="card-description">Iced Coffee, Smoothies, Fresh Juices & More</p>
                    <a href="cold/index.html" class="btn btn-success">Explore Menu</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- User Info Section -->
<div id="user-info" class="user-info-section">
    <div class="user-info-container">
        <h2>Your Account</h2>
        <div class="user-card-large">
            <div class="user-info-item">
                <div class="info-icon">üë§</div>
                <div class="info-content">
                    <span class="info-label">Name</span>
                    <span id="user-name" class="info-value">Loading...</span>
                </div>
            </div>

            <div class="user-info-item">
                <div class="info-icon">‚≠ê</div>
                <div class="info-content">
                    <span class="info-label">Points</span>
                    <span id="user-points" class="info-value">0</span>
                </div>
            </div>

            <div class="user-info-item">
                <div class="info-icon">üí∞</div>
                <div class="info-content">
                    <span class="info-label">Wallet Balance</span>
                    <span id="user-balance" class="info-value">0 EGY</span>
                </div>
            </div>

            <button id="recharge-btn" onclick="window.location.href='wallet.html'">
                üí≥ Recharge Wallet
            </button>
        </div>
    </div>
</div>

<script>
// Slider functionality
let currentSlideIndex = 0;
const slides = document.querySelectorAll('.slide');
const dots = document.querySelectorAll('.dot');

function showSlide(index) {
    // Wrap around
    if (index >= slides.length) currentSlideIndex = 0;
    if (index < 0) currentSlideIndex = slides.length - 1;

    // Hide all slides
    slides.forEach(slide => slide.classList.remove('active'));
    dots.forEach(dot => dot.classList.remove('active'));

    // Show current slide
    slides[currentSlideIndex].classList.add('active');
    dots[currentSlideIndex].classList.add('active');
}

function changeSlide(direction) {
    currentSlideIndex += direction;
    showSlide(currentSlideIndex);
}

function currentSlide(index) {
    currentSlideIndex = index;
    showSlide(currentSlideIndex);
}

// Auto-advance slides every 5 seconds
setInterval(() => {
    currentSlideIndex++;
    showSlide(currentSlideIndex);
}, 5000);

function scrollToSection(sectionId) {
    const section = document.getElementById(sectionId);
    const navButtons = document.querySelectorAll('.nav-btn');

    // Update active button
    if (event && event.target) {
        navButtons.forEach(btn => btn.classList.remove('active'));
        event.target.closest('.nav-btn').classList.add('active');
    }

    // Smooth scroll
    section.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// Function to update user account display
function updateUserAccountDisplay() {
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    const userDisplay = document.getElementById('user-account-display');
    
    if (currentUser && userDisplay) {
        userDisplay.style.display = 'block';
        document.getElementById('user-display-name').textContent = currentUser.username || 'User';
        document.getElementById('user-display-email').textContent = currentUser.email || '';
        document.getElementById('user-display-points').textContent = currentUser.points || 0;
        document.getElementById('user-display-wallet').textContent = (currentUser.wallet || 0) + ' EGY';
        
        // Set initial letter
        const initial = (currentUser.username || 'U').charAt(0).toUpperCase();
        document.getElementById('user-initial').textContent = initial;
    } else if (userDisplay) {
        userDisplay.style.display = 'none';
    }
}

// Function to logout
function logout() {
    localStorage.removeItem('currentUser');
    updateUserAccountDisplay();
    // Reload page to reflect logout
    window.location.reload();
}

// Check user on page load
document.addEventListener('DOMContentLoaded', function() {
    updateUserAccountDisplay();
    
    // Also update the user info section
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    if (currentUser) {
        const userNameEl = document.getElementById('user-name');
        const userPointsEl = document.getElementById('user-points');
        const userBalanceEl = document.getElementById('user-balance');
        
        if (userNameEl) userNameEl.textContent = currentUser.username || 'Guest';
        if (userPointsEl) userPointsEl.textContent = currentUser.points || 0;
        if (userBalanceEl) userBalanceEl.textContent = (currentUser.wallet || 0) + ' EGY';
    }
});
</script>

<!-- Firebase JS -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

<!-- Home JS -->
 <script type="module" src="firebase.js"></script>
<script type="module" src="home.js"></script>

</body>
</html>
